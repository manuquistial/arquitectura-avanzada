
      # Import existing resources if they exist
      - name: Import existing resources
        working-directory: infra/terraform
        run: |
          echo "🔍 Checking for existing resources to import..."
          
          # Import resource group if exists
          if az group show --name carpeta-ciudadana-${{ github.event.inputs.environment || 'dev' }}-rg &>/dev/null; then
            echo "📦 Resource group exists, importing to Terraform state..."
            terraform import azurerm_resource_group.main /subscriptions/${{ secrets.AZURE_SUBSCRIPTION_ID }}/resourceGroups/carpeta-ciudadana-${{ github.event.inputs.environment || 'dev' }}-rg || echo "Already imported or import failed"
          fi
          
          echo "✅ Import check completed"
        continue-on-error: true
